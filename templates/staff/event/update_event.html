{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
    .form-control{
        background: none;
        width: auto;
        margin: 15px;
        display: inline-block;
    }


.back-button {
  width: 40px;
  height: 40px;
  position: relative;
  left: 10%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: #03A9F4 1px solid;
  overflow: hidden;
  transition: background 0.3s ease;
}
.back-button.back .arrow-wrap {
  left: -50%;
}
.back-button:hover {
  background: #03A9F4;
}
.back-button:hover .arrow-wrap span {
  background: #fff;
}
.back-button .arrow-wrap {
  display: block;
  position: absolute;
  height: 70%;
  width: 70%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  transition: left 0.3s ease;
}
.back-button .arrow-wrap span {
  height: 1px;
  left: 0;
  top: 50%;
  background: #03A9F4;
  position: absolute;
  display: block;
  transition: background 0.3s ease;
}
.back-button .arrow-wrap .arrow-part-1 {
  width: 100%;
  transform: translate(0, -50%);
}
.back-button .arrow-wrap .arrow-part-2 {
  width: 60%;
  transform: rotate(-45deg);
  transform-origin: 0 0;
}
.back-button .arrow-wrap .arrow-part-3 {
  width: 60%;
  transform: rotate(45deg);
  transform-origin: 0 0;
}


.textt {
   width: 100%; 
   text-align: center; 
   border-bottom: 1px solid #000; 
   line-height: 0.1em;
   margin: 10px 0 20px; 
} 

.textt span { 
    background:#fff; 
    padding:0 10px; 
}

</style>

<div style="margin-left:50px;">
  <a href="{% url 'show_event' %}" style="color:#4125dd;"> All Events > </a> <a> View Event Details </a>
</div>
<hr>

<div class="col-12">
    <div class="row" style="justify-content: center;">
        <div class="input_fields_wrap" style="display: inline-block;">
        <div style="display: flex;justify-content: center;">
                <h4>Events Page</h4>
            </div><hr><br>
            <form enctype="multipart/form-data" action="{% url 'update_event' event_id  %}" method="post">
                {% csrf_token %}

                <input type="hidden" name="event_id" value="{{ event_id }}">

            <table>
                <tr>
                        <td>
                            <input type="text" name="name" id="Sdsd" value="{{ form.name.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Name">
                            <input type="text" name="price" id="Sdsd" value="{{ form.price.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Price">
                            <input type="text" name="department" id="Sdsd" value="{{ form.department.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Department">
                            <input type="text" name="hod" id="Sdsd" value="{{ form.hod.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="HOD" Required>
                        </td>
                    </tr>
                    <tr>
                        <td>
                           
                            <input type="datetime-local" name="start_date" id="start_date" class="form-control get_timedate">
                            <input type="datetime-local" name="end_date" id="end_date" class="form-control get_timedate">
                           
                        </td> 
                    </tr>
                    <tr>
                        <td>
                            <input type="file" name="image" class="form-control" value="{{ form.image.value|default_if_none:'' }}" id="myfile" name="myfile">
                            <input type="text" name="event_cordinator " id="Sdsd" value="{{ form.event_cordinator.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Event Cordiantor" Required>

                        </td> 
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="min_participants" id="Sdsd" value="{{ form.min_participants.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Min Participation">
                            <input type="text" name="max_participants" id="Sdsd" value="{{ form.max_participants.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Max participation">
                        </td>
                    </tr>
                    <tr>
                        <td><p class="textt"><span>Event Price Money Details </span></p>
                            <input type="text" name="first_price_money" id="Sdsd" value="{{ form.first_price_money.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="First Price Money">
                            <input type="text" name="second_price_money" id="Sdsd" value="{{ form.second_price_money.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Second Price Money">
                            <input type="text" name="third_price_money" id="Sdsd" value="{{ form.third_price_money.value|default_if_none:'' }}" class="form-control input-group mb-3 get" placeholder="Third Price Money">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <textarea name="description" id="Sdsd" value="{{ form.description.value|default_if_none:'' }}" class="form-control input-group mb-3 get" rows="10" cols="100">{{ form.description.value|default_if_none:'' }}</textarea>
                        </td>
                    </tr>
                    {% if update != False %}
                    <tr>
                        <td>
                            <input class="form-control" type="submit" style="background: #4125dd;color: white;padding: 6px 12px;" value="Update">
                        </td>
                    </tr>
                    {% endif %}
                </table>
            </form>
        </div>
    </div>
</div>


{% endblock %}

{% block extrascript %}

<script>

    let a = "{{ form.start_date.value|date:'Y-m-d' }}" 
    let b = "{{ form.start_date.value|date:'H:i' }}" 

    let c = "{{ form.end_date.value|date:'Y-m-d' }}" 
    let d = "{{ form.end_date.value|date:'H:i' }}" 

    alert(a)
    alert(b)

    date1 = a+'T'+b
    date2 = c+'T'+d


    

    
    
    document.getElementById("start_date").value = date1;
    document.getElementById("end_date").value = date2;
    
  
    console.log(localDateTime)

</script>

{% endblock %}